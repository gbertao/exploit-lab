   .global _start
   .text
_start:
   call func

   # exit 0
   mov $60, %rax
   mov $0, %rdi
   syscall

reach_me:
   # Prologue
   push %rbp
   mov %rsp, %rbp

   # write syscall
   mov $1, %rax
   mov $1, %rdi
   lea str, %rsi
   mov $10, %rdx
   syscall

   # Epilogue
   leave
   ret

func:
   # Prologue
   push %rbp
   mov %rsp, %rbp
   sub $0x10, %rsp

   # Self-contained ROP
   mov array, %rax
   mov %rax, 0x08(%rbp)

   # Epilogue
   leave
   ret

   .data
str:  .ascii "You did it"
array: .byte 0x15,0x10,0x40
